

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Geometry &mdash; Quantified Uncertainty with Optimization for the FEM  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/quoFEM-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/quoFEM/aboutQUOFEM.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">4. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">5. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">2. User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">3. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/desktop/examples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/reqQUOFEM.html">5. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">6. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/technical_manual.html">1. Technical Manual</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/architecture/desktop/architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend/desktop/how_to_extend.html">3. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">4. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/coding_style/desktop/coding_style.html">5. Coding Style</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Quantified Uncertainty with Optimization for the FEM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Geometry</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/user_manual/usage/desktop/hydro/Geometry.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="geometry">
<span id="lbl-geometry"></span><h1>Geometry<a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h1>
<p>There are four aspects related to the definition of geometry, namely geometry of the ocean floor or wave flume, buildings or specimens, floating bodies, and shallow water to CFD interface. This section discusses the setup of all aspects of geometry.</p>
<div class="section" id="bathymetry">
<h2>Bathymetry<a class="headerlink" href="#bathymetry" title="Permalink to this headline">¶</a></h2>
<p>The geometry can be provided either in terms of the bathymetry of the ocean floor, an STL file, or the wave flume digital twin. The geometry definition is based on the type of <code class="docutils literal notranslate"><span class="pre">Simulation</span> <span class="pre">type</span></code> chosen in the <a class="reference internal" href="Project.html#lbl-projsett"><span class="std std-ref">Project settings</span></a>. The geometry definition for each of the simulation types has been outlined below.</p>
<details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
Shallow-water to CFD coupling<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text" id="lbl-geom-swcfd">Here the user needs to select the bathymetry files and solution files related to the shallow-water solutions. At present, HydroUQ can directly read the shallow water solutions from the <code class="docutils literal notranslate"><span class="pre">GeoClaw</span></code> solver. The bathymetry can be provided in the GeoClaw format (Type 1) or the SimCenter format. Similarly, the shallow-water solutions can be provided in the GeoClaw format or the SimCenter format.</p>
<p class="card-text">For more information about the GeoClaw file format, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/geoclaw-topo.html#lbl-geoclawtopo"><span class="std std-ref">Topography</span></a>. Similarly, for the SimCenter formats, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/simcenter-topo.html#lbl-simcentertopo"><span class="std std-ref">Topography: SimCenter</span></a>.</p>
<p class="card-text">The other input is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../../../../../_images/SWCFD.png"><img alt="../../../../../_images/SWCFD.png" src="../../../../../_images/SWCFD.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">UI for loading bathymetry and shallow-water solution files</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p class="card-text">Please provide as much of the bathymetry as possible. HydroUQ will crop the required areas for the CFD simulation.</p></li>
<li><p class="card-text">The solution files can be large in size. Hence, it is recommended to restrict the times required for the CFD simulation only. Here, it is essential to note that the boundaries can lead to unphysical accumulation if there are excessive reflections.</p></li>
</ol>
</div>
</div>
</details><details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
Bathymetry<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text" id="lbl-geom-bathy">Here the user needs to select the bathymetry files of the ocean floor. At present, HydroUQ can directly read the bathymetry provided in the GeoClaw format (Type 1) or the SimCenter format. For more information about the GeoClaw file format, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/geoclaw-topo.html#lbl-geoclawtopo"><span class="std std-ref">Topography</span></a>. Similarly, for the SimCenter formats, check out <a class="reference internal" href="../../../../technical_manual/desktop/hydro/swsolver/simcenter-topo.html#lbl-simcentertopo"><span class="std std-ref">Topography: SimCenter</span></a>.</p>
<p class="card-text">The other input is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<div class="align-center figure" id="id2">
<a class="reference internal image-reference" href="../../../../../_images/Bathy.png"><img alt="../../../../../_images/Bathy.png" src="../../../../../_images/Bathy.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">UI for loading bathymetry of the ocean floor</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p class="card-text">The entire bathymetry provided is considered for the CFD simulation. Hence, please be mindful of the model size, especially if the bathymetry is very rough. A very irregular bathymetry can require refined meshes leading to longer computational times.</p></li>
</ol>
</div>
</div>
</details><details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
STL file<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text" id="lbl-geom-stl">Here the user needs to provide the <code class="docutils literal notranslate"><span class="pre">STL</span></code> files related to the geometry here of the ocean floor. In addition, it is required to provide separate <code class="docutils literal notranslate"><span class="pre">STL</span></code> files for all the boundaries and buildings. The files need to be in the ‘STL ASCII format. The files need to be named as</p>
<ol class="arabic simple">
<li><p class="card-text"><strong>Entry.stl</strong> - This is the patch for the inlet of the fluid</p></li>
<li><p class="card-text"><strong>Exit.stl</strong> - This is the patch for the outlet of the fluid</p></li>
<li><p class="card-text"><strong>Right.stl</strong> - This is generally a wall patch on the right. Here, if one were to stand at the inlet and face the outlet, this is the wall on the right.</p></li>
<li><p class="card-text"><strong>Left.stl</strong> - This is generally a wall patch on the left. Here, if one were to stand at the inlet and face the outlet, this is the wall on the left.</p></li>
<li><p class="card-text"><strong>Bottom.stl</strong> - This is the ocean floor or the flume bathymetry</p></li>
<li><p class="card-text"><strong>Top.stl</strong> - This is generally a surface high enough such that the air velocity does not affect the wind-water interface</p></li>
<li><p class="card-text"><strong>Buildings.stl</strong> - This is the building of interest on which we aim to determine the structural response</p></li>
<li><p class="card-text"><strong>Otherbuildings.stl</strong> - These are the other buildings around the structure of interest and could affect the flow around the structure of interest.</p></li>
</ol>
<p class="card-text">The other input is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<div class="align-center figure" id="id3">
<a class="reference internal image-reference" href="../../../../../_images/STLfile.png"><img alt="../../../../../_images/STLfile.png" src="../../../../../_images/STLfile.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">UI for loading the geometry as <code class="docutils literal notranslate"><span class="pre">STL</span></code> files</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p class="card-text">It is necessary to provide each of these <code class="docutils literal notranslate"><span class="pre">STL</span></code> files separately. Hydro-UQ uses them to determine the boundary conditions accurately.</p></li>
</ol>
</div>
</div>
</details><details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
Wave flume<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<p class="card-text" id="lbl-geom-wflume">This constitutes the geometric definition of the wave flume. This is the first step in the description of the digital twin for the wave flume. One of the inputs is the direction of gravity. For this type of simulation, it is recommended to use <code class="docutils literal notranslate"><span class="pre">-z</span></code> for the gravity direction.</p>
<p class="card-text"><strong>Standard OSU flume</strong></p>
<p class="card-text">The flume geometry can be defined using the standard flume definition. Here, a common flume geometry for the Large Wave Flume at the O.H. Hinsdale Wave Research Laboratory in Oregon State University. This is selected as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">Flume02</span></code>.</p>
<div class="align-center figure" id="id4">
<span id="flume02"></span><a class="reference internal image-reference" href="../../../../../_images/Flume02.png"><img alt="../../../../../_images/Flume02.png" src="../../../../../_images/Flume02.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Using the standard wave flume geometry</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p class="card-text">The geometry of the wave flume is defined by providing the coordinates of the external profile of the wave flume, as shown below.</p>
<div class="align-center figure" id="id5">
<a class="reference internal image-reference" href="../../../../../_images/WaveFlumeGeo.png"><img alt="../../../../../_images/WaveFlumeGeo.png" src="../../../../../_images/WaveFlumeGeo.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The coordinates representing the external profile of the wave flume</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p class="card-text">The coordinates of the standard wave flume are provided below.</p>
<div class="highlight-Fortran notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mf">2.085</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">1</span><span class="mf">4.2748</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">1</span><span class="mf">4.2748</span><span class="p">,</span><span class="mf">0.1524</span>
<span class="mi">1</span><span class="mf">7.9324</span><span class="p">,</span><span class="mf">0.1524</span>
<span class="mi">2</span><span class="mf">8.9052</span><span class="p">,</span><span class="mf">1.15</span>
<span class="mi">4</span><span class="mf">3.5356</span><span class="p">,</span><span class="mf">1.7526</span>
<span class="mi">8</span><span class="mf">0.116</span><span class="p">,</span><span class="mf">1.7526</span>
<span class="mi">8</span><span class="mf">0.116</span><span class="p">,</span><span class="mf">4.572</span>
<span class="o">-</span><span class="mf">2.085</span><span class="p">,</span><span class="mf">4.572</span>
</pre></div>
</div>
<p class="card-text"><strong>Definition by coordinates</strong></p>
<p class="card-text">Alternatively, the user can define their own custom wave-flume geometry, as shown below. Here, the user needs to specify the <code class="docutils literal notranslate"><span class="pre">x</span></code> (along the length) and <code class="docutils literal notranslate"><span class="pre">z</span></code> (along the height) coordinates in a tabular format. Additionally, breadth also needs to be provided to define the wave flume geometry uniquely. This is similar to the geometry defined above for the standard OSU flume. HydroUQ constructs the STL files necessary for the CFD simulation process using the provided coordinates and the breadth.</p>
<div class="align-center figure" id="id6">
<a class="reference internal image-reference" href="../../../../../_images/Flume01.png"><img alt="../../../../../_images/Flume01.png" src="../../../../../_images/Flume01.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Defining a custom wave-flume geometry</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p class="card-text">The breadth of the flume needs to be greater than 0. If the breadth is too small, this can lead to numerical issues.</p></li>
</ol>
</div>
</div>
</details></div>
<div class="section" id="sw-cfd-interface">
<h2>SW-CFD interface<a class="headerlink" href="#sw-cfd-interface" title="Permalink to this headline">¶</a></h2>
<p>The shallow-water to CFD interface can only be defined for the simulation type where CFD is used to resolve the shallow-water solutions. The interface is specified using a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file and uploaded as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">SWCFDInter</span></code>.</p>
<div class="align-center figure" id="id7">
<span id="swcfdinter"></span><a class="reference internal image-reference" href="../../../../../_images/swcfd_Interface.png"><img alt="../../../../../_images/swcfd_Interface.png" src="../../../../../_images/swcfd_Interface.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Uploading the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file that defines the interface</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>Consider the problem description as shown in the <code class="xref std std-numref docutils literal notranslate"><span class="pre">SWCFDInter2</span></code>. Consider an event (earthquake on a fault or low-pressure due to a hurricane) represented by the red line on the left. The shallow-water solvers are used over the Ocean domain. In order to provide a high-fidelity solution for the structural response, the shallow-water domain is further refined using 3D CFD. The yellow boxes represent the shallow water to CFD interfaces. This interface information is provided in a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file.</p>
<div class="align-center figure" id="id8">
<span id="swcfdinter2"></span><a class="reference internal image-reference" href="../../../../../_images/SWCFD02.png"><img alt="../../../../../_images/SWCFD02.png" src="../../../../../_images/SWCFD02.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Visual depiction of the shallow water to CFD interface</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>A typical interface file is shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Entry</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="n">Exit</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="n">Right</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>
<span class="n">Left</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.csv</span></code> needs four patches to be explicitly defined. The first is the patch name, followed by the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> coordinates of the first and second points. The order of the points or the patches do not matter. The physical meaning of the patch names are as given below:</p>
<ol class="arabic simple">
<li><p><strong>Entry</strong> - This is the patch for the inlet of the fluid from the shallow water to the CFD domain.</p></li>
<li><p><strong>Exit</strong> - This is the patch for the fluid outlet from the CFD domain.</p></li>
<li><p><strong>Right</strong> - This is generally a patch on the right. Here, if one were to stand at the inlet and face the outlet, this is the boundary on the right.</p></li>
<li><p><strong>Left</strong> - This is generally a patch on the left. Here, if one were to stand at the inlet and face the outlet, this is the boundary on the left.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>It is necessary that the point provided to define the interface needs to be closed and a quadrilateral.</p></li>
<li><p>The patch names need to be provided to identify appropriate boundaries.</p></li>
</ol>
</div>
</div>
<div class="section" id="buildings-specimens">
<h2>Buildings/specimens<a class="headerlink" href="#buildings-specimens" title="Permalink to this headline">¶</a></h2>
<p>Buildings or specimens can be defined in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code>. It is important here to note that there can be two types of buildings: (a) Building of interest for which the structural response is measured (b) Other neighboring buildings that impact the flow fields.</p>
<p>These can either be defined manually in a tabular format or parametrically as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">BuildDef</span></code>.</p>
<div class="align-center figure" id="id9">
<span id="builddef"></span><a class="reference internal image-reference" href="../../../../../_images/Building.png"><img alt="../../../../../_images/Building.png" src="../../../../../_images/Building.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Building definition in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code></span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>For the manual definition of the building, a tabular format is used for the user to specify:</p>
<ol class="arabic">
<li><p><strong>Building type (type):</strong> This refers to the shape and type of building. An index is used to identify the type of building:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>-2</strong>: This is the building on which the structural response is required. The building definition is as provided in the <code class="docutils literal notranslate"><span class="pre">GI</span></code> widget tab earlier. Here the building shape is generally cuboid.</p></li>
<li><p><strong>-1</strong>: This is the building on which the structural response is required. However, this is provided in the <code class="docutils literal notranslate"><span class="pre">SIM</span></code> tab as an OpenSees script for complicated building shapes. For this type of building, please also upload the <code class="docutils literal notranslate"><span class="pre">STL</span></code> file, in ASCII format, for the building shape. This is required to accurately capture the flow fields around the building.</p></li>
<li><p><strong>1</strong>: This is a building on which structural response is not desired. However, this is present in the neighborhood and can significantly affect the flow fields. The shape of the building is cuboid here.</p></li>
<li><p><strong>2</strong>: This is a building on which structural response is not desired. However, this is present in the neighborhood and can significantly affect the flow fields. The shape of the building is more complex and provided through an <code class="docutils literal notranslate"><span class="pre">STL</span></code> file in ASCII format.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At present, HydroUQ only supports one type of building to be defined using a <code class="docutils literal notranslate"><span class="pre">STL</span></code> geometry. This file needs to be in ASCII format. This limitation will be removed in the upcoming versions.</p>
</div>
</div></blockquote>
</li>
<li><p><strong>Center:</strong> This refers to the location of the building/specimen. This is defined in terms of the coordinates (<code class="docutils literal notranslate"><span class="pre">x</span></code> , <code class="docutils literal notranslate"><span class="pre">y</span></code> , <code class="docutils literal notranslate"><span class="pre">z</span></code>) or latitude-longitude depending on the type of simulation chosen earlier in <a class="reference internal" href="Project.html#lbl-projsett"><span class="std std-ref">Project settings</span></a>. Suppose the simulation is based on shallow-water to CFD or bathymetry settings. In that case, the latitude and longitude need to be specified. Else, the position is input in terms of the coordinates.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here, the building position refers to the center of the bottom surface of the building. Thus, one needs to appropriately calculate the position of the building.</p>
</div>
</div></blockquote>
</li>
<li><p><strong>Parameters:</strong> This refers to the building’s length, breadth, and height definition. This is required only for building types <strong>1</strong>. The parameters for the other types will be extracted either from the <code class="docutils literal notranslate"><span class="pre">STL</span></code> files or the <code class="docutils literal notranslate"><span class="pre">GI</span></code> widget tab.</p></li>
</ol>
<p>The parametric definition of the building is recommended for usage mainly for the flume. This is recommended for usage when all the buildings are of the same shape and size. Here, the buildings are automatically generated based on a set of parametric inputs. The building of interest is directly determined by the quoFEM app by using the coordinate information from the <code class="docutils literal notranslate"><span class="pre">GI</span></code> tab and matching it with the nearest building. The set of parameters include:</p>
<ol class="arabic">
<li><p><strong>Number of buildings along the coast:</strong> This refers to the number of building in the direction orthogonal to the flow, i.e., between right and left interfaces or walls of the CFD domain.</p></li>
<li><p><strong>Number of buildings into the coast:</strong> This refers to the number of buildings in the flow direction, i.e., between entry and exit of the CFD domain.</p></li>
<li><p><strong>Distance from coast:</strong> This refers to the distance of the first building from (0,0).</p></li>
<li><p><strong>Distance between buildings (Side):</strong> This refers to the center-to-center distance between the buildings in the direction orthogonal to the flow.</p></li>
<li><p><strong>Distance between buildings (Front):</strong> This refers to the center-to-center distance between the buildings in the flow direction.</p></li>
<li><p><strong>Building size:</strong> Here, it is required to specify the building’s length - breadth - height. This information can be the size of the building (for those with a cuboidal shape). Alternatively, this is the box into which an irregular building can be fitted.</p></li>
<li><p><strong>Coordinate of coastline center:</strong> This refers to the center of the coastline from the global (0,0) of the domain.</p></li>
<li><p><strong>Building shape:</strong> Here, two-building shapes are possible, i.e., cuboid or user-defined as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">BuildShape</span></code>. If the building shape is user-defined, then an <code class="docutils literal notranslate"><span class="pre">STL</span></code> file in ASCII format needs to be uploaded.</p>
<blockquote>
<div><div class="align-center figure" id="id10">
<span id="buildshape"></span><a class="reference internal image-reference" href="../../../../../_images/BuildShape.png"><img alt="../../../../../_images/BuildShape.png" src="../../../../../_images/BuildShape.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Building shape definition in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code></span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>Distribution of buildings:</strong> This refers to the distribution of the buildings. At present, this can be simple or staggered, as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">BuildDist</span></code>.</p>
<blockquote>
<div><div class="align-center figure" id="id11">
<span id="builddist"></span><a class="reference internal image-reference" href="../../../../../_images/BuildDist.png"><img alt="../../../../../_images/BuildDist.png" src="../../../../../_images/BuildDist.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Building distribution definition in the <code class="docutils literal notranslate"><span class="pre">EVT</span></code></span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="floating-bodies">
<h2>Floating bodies<a class="headerlink" href="#floating-bodies" title="Permalink to this headline">¶</a></h2>
<p>The present version of the HydroUQ does not facilitate floating bodies. These would be added to the upcoming versions of quoFEM app.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018-2021, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-4', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>