

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2. Getting Started Tutorial &mdash; Quantified Uncertainty with Optimization for the FEM  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\dist\css\lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/tabs.js"></script>
        <script src="../../../../_static/design-tabs.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\dist\js\lightbox-plus-jquery.min.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="3. User Interface" href="../../usage/desktop/usage.html" />
    <link rel="prev" title="1.1.3. Running Jobs at DesignSafe" href="../../installation/desktop/setupTACC.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../index.html">



  
  <img src="../../../../_static/quoFEM-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/quoCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/quoReleaseNotes.html">6. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/quoPlans.html">7. Release Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/glossary.html">8. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/abbreviations.html">9. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation/desktop/installation.html">1. Running Application</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Getting Started Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#before-we-start">2.1. Before We Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quofem-for-a-python-model-interface">2.2. quoFEM for a Python Model Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/desktop/usage.html">3. User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/desktop/quoFEM/tools.html">4. Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/desktop/examples.html">5. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/desktop/troubleshooting.html">6. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reqments/reqQUOFE.html">7. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bugs.html">8. Bugs &amp; Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dcv/quoFEM/quoFEM.html">9. Running in Your Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/desktop/quoFEM/usage_video.html">10. Video Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_manual/desktop/uqTechnical.html">1. Dakota Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_manual/desktop/SimCenterUQTechnical.html">2. Methods in SimCenterUQ Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_manual/desktop/UCSDUQTechnical.html">3. Methods in UCSD UQ Engine</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_manual/how_to_extend.html">2. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_manual/verification/desktop/verification.html">3. Verification</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Quantified Uncertainty with Optimization for the FEM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Getting Started Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/common/user_manual/about/quoFEM/quoFEMtutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started-tutorial">
<h1><span class="section-number">2. </span>Getting Started Tutorial<a class="headerlink" href="#getting-started-tutorial" title="Permalink to this heading">¶</a></h1>
<div class="section" id="before-we-start">
<h2><span class="section-number">2.1. </span>Before We Start<a class="headerlink" href="#before-we-start" title="Permalink to this heading">¶</a></h2>
<p>If you have not yet installed quoFEM, please see</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="../../installation/desktop/installation.html#lblinstallation"><span class="std std-ref">Install quoFEM</span></a></p></li>
<li><p><a class="reference internal" href="../../dcv/quoFEM/quoFEM.html#lblquofem-dcv"><span class="std std-ref">Run quoFEM without installation</span></a></p></li>
</ul>
</div></blockquote>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you just downloaded quoFEM, but have previously used the older version of it or other SimCenter tools, it is recommended to reset the cached path values by pressing the <code class="docutils literal notranslate"><span class="pre">reset</span></code> button in <code class="docutils literal notranslate"><span class="pre">File</span></code>-<code class="docutils literal notranslate"><span class="pre">Preferences</span></code>.</p>
</div>
</div>
<div class="section" id="quofem-for-a-python-model-interface">
<h2><span class="section-number">2.2. </span>quoFEM for a Python Model Interface<a class="headerlink" href="#quofem-for-a-python-model-interface" title="Permalink to this heading">¶</a></h2>
<p>This tutorial will show how a <strong>deterministic</strong> model written/interfaced in a Python script can be used for <strong>Uncertainty Quantification</strong> analysis, using an example of global sensitivity analysis.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Step 0</strong>. Prepare a Python Model</p></li>
<li><p><strong>Step 1</strong>. Modify the Model Script to Define Random Variables and Quantities of Interest</p></li>
<li><p><strong>Step 2</strong>. Run quoFEM</p></li>
<li><p><strong>Step 3</strong>. Run quoFEM at DesignSafe</p></li>
</ul>
</div></blockquote>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-0">
Step 0</label><div class="sd-tab-content docutils">
<p><span class="uqblue">Step 0. Prepare a Python Model</span></p>
<blockquote>
<div><blockquote>
<div><div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="align-center figure">
<a class="reference internal image-reference" href="../../../../_images/step0_main.png"><img alt="../../../../_images/step0_main.png" src="../../../../_images/step0_main.png" style="width: 1200px;" /></a>
</div>
</div>
</div>
</div>
</div>
</div>
</div></blockquote>
<p>Let us grab <strong>a python script</strong> from <a href="https://openseespydoc.readthedocs.io/en/latest/src/examples.html" target="_blank">OpenSeesPy example manual</a> for this tutorial. Please follow the steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>In <a href="https://openseespydoc.readthedocs.io/en/latest/src/examples.html" target="_blank">OpenSeesPy example manual</a>, navigate to <strong>Structural Example - Elastic Truss Analysis</strong></p></li>
<li><p>In the <a href="https://openseespydoc.readthedocs.io/en/latest/src/truss.html" target="_blank">Elastic Truss Analysis</a> page, click the download button. Create a <strong>new folder</strong> named <code class="docutils literal notranslate"><span class="pre">TrussExample</span></code> and save <code class="docutils literal notranslate"><span class="pre">ElasticTruss.py</span></code> in the folder.</p></li>
</ol>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../../../../_images/step2_openseesPy.svg"><img alt="../../../../_images/step2_openseesPy.svg" src="../../../../_images/step2_openseesPy.svg" width="1200" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.1 </span><span class="caption-text">Download OpenSeesPy Elastic Truss Analysis</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is important to save the model in a <strong>new folder</strong> instead of root, desktop or downloads</p>
</div>
<ol class="arabic simple" start="3">
<li><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">Test Your Model</span> Test if the input script <code class="docutils literal notranslate"><span class="pre">ElasticTruss.py</span></code> runs successfully using the command prompt (Windows) or terminal (Mac). To do this, navigate into <code class="docutils literal notranslate"><span class="pre">TrussExample</span></code> folder using <code class="code docutils literal notranslate"><span class="pre">cd</span></code> command and type the following.</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{$PathToPythonExe} ElasticTruss.py</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">{$PathToPythonExe}</span></code> should be replaced with the python path found in the preference window.</p>
<div class="align-center figure" id="id2">
<a class="reference internal image-reference" href="../../../../_images/step1_preference_default.svg"><img alt="../../../../_images/step1_preference_default.svg" src="../../../../_images/step1_preference_default.svg" width="800" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.2 </span><span class="caption-text">Find the Python path in <code class="docutils literal notranslate"><span class="pre">File</span></code>-<code class="docutils literal notranslate"><span class="pre">Preference</span></code> in the menu bar</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>According to <code class="docutils literal notranslate"><span class="pre">ElasticTruss.py</span></code>, the analysis should print out “Passed!”, meaning the model ran successfully.</p>
<div class="align-center figure" id="id3">
<a class="reference internal image-reference" href="../../../../_images/step0_openseespy_test.svg"><img alt="../../../../_images/step0_openseespy_test.svg" src="../../../../_images/step0_openseespy_test.svg" width="1200" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.3 </span><span class="caption-text">Testing <code class="docutils literal notranslate"><span class="pre">ElasticTruss.py</span></code></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>Now we are ready to run a probabilistic analysis using this model.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>openseespy, numpy, and matplotlib libraries are readily available in quoFEM because:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Windows</dt><dd><p>quoFEM is bundled with a Python executable which has those packages pre-installed. See <a class="reference internal" href="../../usage/desktop/quoFEM/FEM.html#lblfem"><span class="std std-ref">here</span></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>macOS</dt><dd><p>In the <a class="reference internal" href="../../installation/desktop/install_macOS.html#lblinstallmac"><span class="std std-ref">installation steps</span></a>, the command <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">nheri_simcenter</span> <span class="pre">--upgrade</span></code> will include those packages</p>
</dd>
</dl>
</li>
</ul>
<p>It is important to test the model using the “correct” Python executable the quoFEM uses, which is <strong>that shown in the preference</strong>. See <a class="reference internal" href="../../usage/desktop/quoFEM/FEM.html#lblfem"><span class="std std-ref">here</span></a> to read more on Python versions and installing additional packages.</p>
</div>
</div></blockquote>
</div></blockquote>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-1">
Step 1</label><div class="sd-tab-content docutils">
<p><span class="uqblue">Step 1. Modify the Model Script to Define Random Variables and Quantities of Interest</span></p>
<blockquote>
<div><blockquote>
<div><div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="align-center figure">
<a class="reference internal image-reference" href="../../../../_images/step1_main.png"><img alt="../../../../_images/step1_main.png" src="../../../../_images/step1_main.png" style="width: 1200px;" /></a>
</div>
</div>
</div>
</div>
</div>
</div>
</div></blockquote>
<p>We now need to indicate quoFEM what are the input <strong>random variables (RVs)</strong> and output <strong>Quantities of Interest (QoIs)</strong>. Let us consider the following setup:</p>
<ul class="simple">
<li><p><strong>Four RVs</strong>: height (<span class="math notranslate nohighlight">\(H\)</span>), elastic modulus (<span class="math notranslate nohighlight">\(E\)</span>), horizontal load (<span class="math notranslate nohighlight">\(P_x\)</span>), vertical load (<span class="math notranslate nohighlight">\(P_y\)</span>)</p></li>
<li><p><strong>Two QoIs</strong>: horizontal and vertical displacements of node 4 (<span class="math notranslate nohighlight">\(u_x\)</span> and <span class="math notranslate nohighlight">\(u_y\)</span>)</p></li>
</ul>
<p>To convey this information to quoFEM, the following steps are needed.</p>
<ol class="arabic simple">
<li><p>Create a parameter file, <a class="reference download internal" download="" href="../../../../_downloads/d7b55b0631abf90dda4d308af9588fac/params.py"><code class="xref download docutils literal notranslate"><span class="pre">params.py</span></code></a>, that contains the below four lines, in the folder <code class="docutils literal notranslate"><span class="pre">TrussExample</span></code>:</p></li>
</ol>
<blockquote>
<div><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">E</span> <span class="o">=</span> <span class="mf">3000.0</span> <span class="c1"># elastic modulus</span>
<span class="n">H</span> <span class="o">=</span> <span class="mf">96.0</span> <span class="c1"># height</span>
<span class="n">Px</span> <span class="o">=</span> <span class="mf">100.0</span> <span class="c1"># xForce</span>
<span class="n">Py</span> <span class="o">=</span> <span class="o">-</span><span class="mf">50.0</span> <span class="c1"># yForce</span>
</pre></div>
</div>
<p>This indicates quoFEM the list RVs</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The specified values are not actually used in the quoFEM analysis, because they will be overwritten according to the probability distribution specified in Step 2.</p>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>Modify the main script <a class="reference download internal" download="" href="../../../../_downloads/1a2a9c1e565a44c90d1aa3ab0bb37acf/ElasticTruss_quo.py"><code class="xref download docutils literal notranslate"><span class="pre">ElasticTruss.py</span></code></a> as follows (the modified parts are highlighted in the code)</p>
<blockquote>
<div><ul class="simple">
<li><p>Import <code class="docutils literal notranslate"><span class="pre">params.py</span></code> on top of the main script</p></li>
<li><p>Replace the hard-coded values of RVs with the variables <code class="docutils literal notranslate"><span class="pre">H</span></code>, <code class="docutils literal notranslate"><span class="pre">E</span></code>, <code class="docutils literal notranslate"><span class="pre">Px</span></code>, and <code class="docutils literal notranslate"><span class="pre">Py</span></code></p></li>
<li><p>Write QoI values (<code class="docutils literal notranslate"><span class="pre">ux</span></code> and <code class="docutils literal notranslate"><span class="pre">uy</span></code>) to <code class="docutils literal notranslate"><span class="pre">results.out</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ol>
<blockquote>
<div><div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Modified</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Original</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">openseespy.opensees</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="hll"><span class="kn">from</span> <span class="nn">params</span> <span class="kn">import</span> <span class="o">*</span>
</span><span class="c1"># ------------------------------</span>
<span class="c1"># Start of model generation</span>
<span class="c1"># -----------------------------</span>

<span class="c1"># remove existing model</span>
<span class="n">wipe</span><span class="p">()</span>

<span class="c1"># set modelbuilder</span>
<span class="n">model</span><span class="p">(</span><span class="s1">&#39;basic&#39;</span><span class="p">,</span> <span class="s1">&#39;-ndm&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;-ndf&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># create nodes</span>
<span class="n">node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">144.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">)</span>
<span class="n">node</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">168.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">)</span>
<span class="hll"><span class="n">node</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span>  <span class="mf">72.0</span><span class="p">,</span>  <span class="n">H</span><span class="p">)</span>
</span>
<span class="c1"># set boundary condition</span>
<span class="n">fix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">fix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">fix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># define materials</span>
<span class="hll"><span class="n">uniaxialMaterial</span><span class="p">(</span><span class="s2">&quot;Elastic&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
</span>
<span class="c1"># define elements</span>
<span class="n">element</span><span class="p">(</span><span class="s2">&quot;Truss&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">10.0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">element</span><span class="p">(</span><span class="s2">&quot;Truss&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">element</span><span class="p">(</span><span class="s2">&quot;Truss&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># create TimeSeries</span>
<span class="n">timeSeries</span><span class="p">(</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># create a plain load pattern</span>
<span class="n">pattern</span><span class="p">(</span><span class="s2">&quot;Plain&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create the nodal load - command: load nodeID xForce yForce</span>
<span class="hll"><span class="n">load</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">Px</span><span class="p">,</span> <span class="n">Py</span><span class="p">)</span>
</span>
<span class="c1"># ------------------------------</span>
<span class="c1"># Start of analysis generation</span>
<span class="c1"># ------------------------------</span>

<span class="c1"># create SOE</span>
<span class="n">system</span><span class="p">(</span><span class="s2">&quot;BandSPD&quot;</span><span class="p">)</span>

<span class="c1"># create DOF number</span>
<span class="n">numberer</span><span class="p">(</span><span class="s2">&quot;RCM&quot;</span><span class="p">)</span>

<span class="c1"># create constraint handler</span>
<span class="n">constraints</span><span class="p">(</span><span class="s2">&quot;Plain&quot;</span><span class="p">)</span>

<span class="c1"># create integrator</span>
<span class="n">integrator</span><span class="p">(</span><span class="s2">&quot;LoadControl&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># create algorithm</span>
<span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;Linear&quot;</span><span class="p">)</span>

<span class="c1"># create analysis object</span>
<span class="n">analysis</span><span class="p">(</span><span class="s2">&quot;Static&quot;</span><span class="p">)</span>

<span class="c1"># perform the analysis</span>
<span class="n">analyze</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">ux</span> <span class="o">=</span> <span class="n">nodeDisp</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">uy</span> <span class="o">=</span> <span class="n">nodeDisp</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ux</span><span class="o">-</span><span class="mf">0.53009277713228375450</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">1e-12</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">uy</span><span class="o">+</span><span class="mf">0.17789363846931768864</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">1e-12</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Passed!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed!&quot;</span><span class="p">)</span>

<span class="hll"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;results.out&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span class="hll">        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ux</span><span class="p">,</span><span class="n">uy</span><span class="p">))</span>             
</span></pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">openseespy.opensees</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="hll">
</span><span class="c1"># ------------------------------</span>
<span class="c1"># Start of model generation</span>
<span class="c1"># -----------------------------</span>

<span class="c1"># remove existing model</span>
<span class="n">wipe</span><span class="p">()</span>

<span class="c1"># set modelbuilder</span>
<span class="n">model</span><span class="p">(</span><span class="s1">&#39;basic&#39;</span><span class="p">,</span> <span class="s1">&#39;-ndm&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;-ndf&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># create nodes</span>
<span class="n">node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">144.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">)</span>
<span class="n">node</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">168.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">)</span>
<span class="hll"><span class="n">node</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span>  <span class="mf">72.0</span><span class="p">,</span> <span class="mf">96.0</span><span class="p">)</span>
</span>
<span class="c1"># set boundary condition</span>
<span class="n">fix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">fix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">fix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># define materials</span>
<span class="hll"><span class="n">uniaxialMaterial</span><span class="p">(</span><span class="s2">&quot;Elastic&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">3000.0</span><span class="p">)</span>
</span>
<span class="c1"># define elements</span>
<span class="n">element</span><span class="p">(</span><span class="s2">&quot;Truss&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">10.0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">element</span><span class="p">(</span><span class="s2">&quot;Truss&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">element</span><span class="p">(</span><span class="s2">&quot;Truss&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># create TimeSeries</span>
<span class="n">timeSeries</span><span class="p">(</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># create a plain load pattern</span>
<span class="n">pattern</span><span class="p">(</span><span class="s2">&quot;Plain&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create the nodal load - command: load nodeID xForce yForce</span>
<span class="hll"><span class="n">load</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">50.0</span><span class="p">)</span>
</span>
<span class="c1"># ------------------------------</span>
<span class="c1"># Start of analysis generation</span>
<span class="c1"># ------------------------------</span>

<span class="c1"># create SOE</span>
<span class="n">system</span><span class="p">(</span><span class="s2">&quot;BandSPD&quot;</span><span class="p">)</span>

<span class="c1"># create DOF number</span>
<span class="n">numberer</span><span class="p">(</span><span class="s2">&quot;RCM&quot;</span><span class="p">)</span>

<span class="c1"># create constraint handler</span>
<span class="n">constraints</span><span class="p">(</span><span class="s2">&quot;Plain&quot;</span><span class="p">)</span>

<span class="c1"># create integrator</span>
<span class="n">integrator</span><span class="p">(</span><span class="s2">&quot;LoadControl&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># create algorithm</span>
<span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;Linear&quot;</span><span class="p">)</span>

<span class="c1"># create analysis object</span>
<span class="n">analysis</span><span class="p">(</span><span class="s2">&quot;Static&quot;</span><span class="p">)</span>

<span class="c1"># perform the analysis</span>
<span class="n">analyze</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">ux</span> <span class="o">=</span> <span class="n">nodeDisp</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">uy</span> <span class="o">=</span> <span class="n">nodeDisp</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ux</span><span class="o">-</span><span class="mf">0.53009277713228375450</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">1e-12</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">uy</span><span class="o">+</span><span class="mf">0.17789363846931768864</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">1e-12</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Passed!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed!&quot;</span><span class="p">)</span>

<span class="hll">
</span><span class="hll">
</span></pre></div>
</div>
</div></div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">Test Your Model</span> Test your new Python script using the same command used in Step 0.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{$PathToPythonExe} ElasticTruss.py</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<blockquote>
<div><p>This time, <code class="docutils literal notranslate"><span class="pre">results.out</span></code> should be created in the folder <code class="docutils literal notranslate"><span class="pre">TrussExample</span></code>, which contains the following two values.</p>
<blockquote>
<div><div class="align-center figure" id="id4">
<a class="reference internal image-reference" href="../../../../_images/step1_results.svg"><img alt="../../../../_images/step1_results.svg" src="../../../../_images/step1_results.svg" width="500" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.4 </span><span class="caption-text">Created results.out</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p><strong>If the test was successful, remove all the files except</strong> <code class="docutils literal notranslate"><span class="pre">ElasticTruss.py</span></code> and <code class="docutils literal notranslate"><span class="pre">params.py</span></code>. This model can now be readily imported into quoFEM.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is important to remove <code class="docutils literal notranslate"><span class="pre">results.out</span></code> file after testing.</p>
</div>
</div></blockquote>
</div></blockquote>
</div>
<input id="sd-tab-item-2" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-2">
Step 2</label><div class="sd-tab-content docutils">
<p><span class="uqblue">Step 2. Run quoFEM</span></p>
<blockquote>
<div><blockquote>
<div><div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="align-center figure">
<a class="reference internal image-reference" href="../../../../_images/step2_main.png"><img alt="../../../../_images/step2_main.png" src="../../../../_images/step2_main.png" style="width: 1200px;" /></a>
</div>
</div>
</div>
</div>
</div>
</div>
</div></blockquote>
<p>quoFEM has four input tabs - UQ, FEM, RV, EDP(QoI)- that guide users to provide the required inputs for the UQ analysis</p>
<ol class="arabic">
<li><p><strong>UQ (Uncertainty Quantification)</strong></p>
<blockquote>
<div><p>We will use <code class="docutils literal notranslate"><span class="pre">dakota</span></code>-<code class="docutils literal notranslate"><span class="pre">Sensitivity</span> <span class="pre">Analysis</span></code> for this example.</p>
<div class="align-center figure" id="id5">
<a class="reference internal image-reference" href="../../../../_images/step2_UQ.PNG"><img alt="../../../../_images/step2_UQ.PNG" src="../../../../_images/step2_UQ.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.5 </span><span class="caption-text">UQ Panel</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Once the user prepares the input script according to Step 1, they can use it for any <a class="reference internal" href="../../usage/desktop/UQ.html#lbluq"><span class="std std-ref">UQ analysis supported in quoFEM</span></a> without additional modifications.</p>
</div>
</div></blockquote>
</li>
<li><p><strong>FEM (Finite Element Model or any simulation model)</strong></p>
<blockquote>
<div><p>Import the two model scripts prepared in Step 1 here.</p>
<div class="align-center figure" id="id6">
<a class="reference internal image-reference" href="../../../../_images/step2_FEM.PNG"><img alt="../../../../_images/step2_FEM.PNG" src="../../../../_images/step2_FEM.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.6 </span><span class="caption-text">FEM Panel</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>The post-processing script is not needed in this example because the <code class="docutils literal notranslate"><span class="pre">results.out</span></code> is already printed in the main script. See <a class="reference internal" href="../../usage/desktop/quoFEM/FEM.html#lblfem"><span class="std std-ref">here</span></a> for more about the post-processing script</p>
</div></blockquote>
</li>
<li><p><strong>RV (Random Variables)</strong></p>
<blockquote>
<div><p>Reading <code class="docutils literal notranslate"><span class="pre">params.py</span></code>, quoFEM auto-populates the RVs as follows.</p>
<div class="align-center figure" id="id7">
<a class="reference internal image-reference" href="../../../../_images/step2_RV.PNG"><img alt="../../../../_images/step2_RV.PNG" src="../../../../_images/step2_RV.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.7 </span><span class="caption-text">RV Panel</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>Then one can modify their distribution types and parameters. Further, if you believe some variables are correlated, use the correlation button to specify the values.</p>
<div class="align-center figure" id="id8">
<a class="reference internal image-reference" href="../../../../_images/step2_RV_corr.PNG"><img alt="../../../../_images/step2_RV_corr.PNG" src="../../../../_images/step2_RV_corr.PNG" style="width: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.8 </span><span class="caption-text">Correlation Window</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>EDP (Engineering Demand Parameters) or QoI (Quantities of Interest)</strong></p>
<blockquote>
<div><p>Because our Python script will write two values in <code class="docutils literal notranslate"><span class="pre">results.out</span></code> file, we will specify two QoI as follows.</p>
<div class="align-center figure" id="id9">
<a class="reference internal image-reference" href="../../../../_images/step2_QoI.PNG"><img alt="../../../../_images/step2_QoI.PNG" src="../../../../_images/step2_QoI.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.9 </span><span class="caption-text">EDP Panel</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>The order should match that written in the <code class="docutils literal notranslate"><span class="pre">results.out</span></code> file, and the specified name of QoIs is used only for the display in this example. Please see <a class="reference internal" href="../../usage/desktop/quoFEM/QuantitiesOfInterest.html#lblquo-qoi"><span class="std std-ref">here</span></a> to learn about vector QoIs that have a length greater than 1</p>
</div></blockquote>
</li>
</ol>
<p>When all the fields are filled in, click the <strong>Run</strong> button, and the analysis will be performed. <strong>Do not press the Run button twice</strong> - it will give you an error. You can check the progress status in your <strong>Local Working directory</strong> which can be found in the preference window. The number attached to ‘workdir.’ indicates the simulation index, and each folder contains the details for each simulation run.</p>
<blockquote>
<div><div class="align-center figure" id="id10">
<a class="reference internal image-reference" href="../../../../_images/step2_RES1.PNG"><img alt="../../../../_images/step2_RES1.PNG" src="../../../../_images/step2_RES1.PNG" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.10 </span><span class="caption-text">Working directories</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>Once the analysis is done, move on to the RES tab.</p>
<p><strong>RES (Results)</strong></p>
<blockquote>
<div><p>The results indicate that the horizontal displacement is most affected by the height while vertical displacement is dominated by the elastic modulus and vertical force.</p>
<div class="align-center figure" id="id11">
<a class="reference internal image-reference" href="../../../../_images/step2_RES2.PNG"><img alt="../../../../_images/step2_RES2.PNG" src="../../../../_images/step2_RES2.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.11 </span><span class="caption-text">RES - Summary</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<p>And this can be confirmed by the strong/weak trends observed in the scatter plots.</p>
<div class="align-center figure" id="id12">
<a class="reference internal image-reference" href="../../../../_images/step2_RES3.PNG"><img alt="../../../../_images/step2_RES3.PNG" src="../../../../_images/step2_RES3.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.12 </span><span class="caption-text">RES - Data Values - Scatter plot of <code class="docutils literal notranslate"><span class="pre">H</span></code> and <code class="docutils literal notranslate"><span class="pre">disp_x</span></code></span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>The <strong>right/left mouse buttons</strong> (fn-clink, option-click, or command-click replaces the left click on Mac) will allow the users to draw various scatter plots, histograms, and cumulative mass plots from the sample points.</p>
<p>See <a class="reference internal" href="../../../technical_manual/desktop/uqTechnical.html#lbluqtechnical"><span class="std std-ref">Dakota</span></a> or <a class="reference internal" href="../../../technical_manual/desktop/SimCenterUQTechnical.html#lbluqsimtechnical"><span class="std std-ref">SimCenterUQ</span></a> theory manual to learn more about the sensitivity analysis and the difference between main and total indices.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The global sensitivity analysis results will be different when probability distribution changes (i.e. when the amount of uncertainty in each input variable changes), and users can test different conditions simply by changing the distributions in the RV tab.</p>
</div>
</div></blockquote>
</div></blockquote>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-3">
Step 3</label><div class="sd-tab-content docutils">
<p><span class="uqblue">Step 3. Run quoFEM at DesignSafe</span></p>
<blockquote>
<div><blockquote>
<div><div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="align-center figure">
<a class="reference internal image-reference" href="../../../../_images/step3_main.png"><img alt="../../../../_images/step3_main.png" src="../../../../_images/step3_main.png" style="width: 1200px;" /></a>
</div>
</div>
</div>
</div>
</div>
</div>
</div></blockquote>
<p>Users can run the same analysis using the high-performance computer at <a class="reference external" href="https://designsafe-ci.org">DesignSafe</a> at <a href="https://www.tacc.utexas.edu/" target="_blank">Texas Super Computing Center (TACC)</a>. For this, login to DesignSafe by clicking <strong>Login</strong> on the right upper corner of quoFEM, or by clicking <strong>RUN at DesignSafe</strong> Button</p>
<blockquote>
<div><div class="align-center figure" id="id13">
<a class="reference internal image-reference" href="../../../../_images/step3_Login.PNG"><img alt="../../../../_images/step3_Login.PNG" src="../../../../_images/step3_Login.PNG" style="width: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.13 </span><span class="caption-text">Login window</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>If you don’t have a DesignSafe account, you can easily sign up at <a class="reference external" href="https://designsafe-ci.org">DesignSafe</a>.</p>
<p>Then by clicking <strong>RUN at DesignSafe</strong>, one can specify the job details. Please see <a class="reference internal" href="../../usage/desktop/usage.html#lbl-usage"><span class="std std-ref">here</span></a> for more details on the number of nodes and processors.</p>
<blockquote>
<div><div class="align-center figure" id="id14">
<a class="reference internal image-reference" href="../../../../_images/step3_Run.PNG"><img alt="../../../../_images/step3_Run.PNG" src="../../../../_images/step3_Run.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.14 </span><span class="caption-text">Run at DesignSafe</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>If one sets 32 processors, quoFEM will run 32 model evaluations simultaneously in parallel. By clicking <strong>Submit</strong>, the jobs will be automatically submitted to DesignSafe. (See <a class="reference internal" href="../../../developer_manual/architecture/desktop/overview.html#lblarchitecture"><span class="std std-ref">here</span></a> to learn more about “What happens when <strong>RUN at DesignSafe</strong> button is clicked”). Depending on how busy the <strong>Frontera</strong> at TACC is, your job may start within 30 sec, or it may take longer. By clicking <strong>GET from DesignSafe</strong>, one can check the status. The major stages are <strong>Queued</strong>, <strong>Running</strong>, and <strong>Finished</strong>.</p>
<blockquote>
<div><div class="align-center figure" id="id15">
<a class="reference internal image-reference" href="../../../../_images/step3_Jobs.PNG"><img alt="../../../../_images/step3_Jobs.PNG" src="../../../../_images/step3_Jobs.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.15 </span><span class="caption-text">Run at DesignSafe</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>Once the status is changed to <strong>Finished</strong>, select the job name and click <strong>Retrieve Data</strong>. The quoFEM will load the data. The results should be the same as the local analysis results.</p>
<blockquote>
<div><div class="align-center figure" id="id16">
<a class="reference internal image-reference" href="../../../../_images/step2_RES2.PNG"><img alt="../../../../_images/step2_RES2.PNG" src="../../../../_images/step2_RES2.PNG" style="width: 1200px;" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.16 </span><span class="caption-text">Sensitivity Analysis Results from DesignSafe</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p>The created results files can be found in your <strong>Remote working directory</strong> which can be found in the preference window. Furthermore, one can access all the output files and logs created by quoFEM by signing in to <a class="reference external" href="https://designsafe-ci.org">DesignSafe</a> and navigating in the menu bar to <strong>Workspace - Tools &amp; Applications - Jobs Status</strong> (at the right-hand side edge), and clicking <strong>More info</strong> and <strong>View</strong> button (See below figures).</p>
<blockquote>
<div><div class="align-center figure" id="id17">
<a class="reference internal image-reference" href="../../../../_images/step3_DesignSafe1.svg"><img alt="../../../../_images/step3_DesignSafe1.svg" src="../../../../_images/step3_DesignSafe1.svg" width="1200" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.17 </span><span class="caption-text">DesignSafe - Job status</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
<div class="align-center figure" id="id18">
<a class="reference internal image-reference" href="../../../../_images/step3_DesignSafe2.svg"><img alt="../../../../_images/step3_DesignSafe2.svg" src="../../../../_images/step3_DesignSafe2.svg" width="400" /></a>
<p class="caption"><span class="caption-number">Fig. 2.2.18 </span><span class="caption-text">DesignSafe - See results files</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</div></blockquote>
</div>
<input id="sd-tab-item-4" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-4">
Moving forward..</label><div class="sd-tab-content docutils">
<p><span class="uqblue">Things to Consider</span></p>
<blockquote>
<div><ul>
<li><p><strong>Installing additional Python packages</strong></p>
<blockquote>
<div><p>On Windows, it is important to install Python packages to the correct Python executable. Please read <a class="reference internal" href="../../usage/desktop/quoFEM/FEM.html#lblfem"><span class="std std-ref">here</span></a> about pip-installing Python packages and changing the Python version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>When running at DesignSafe (e.g. Step 3)</strong>, SimCenter workflow uses its own Python executable installed on the cloud computer. Currently, the only supported Python packages are those installed through the ‘nheri_simcenter’ package. The available list of packages includes - numpy, scipy, sklearn, pandas, tables, pydoe, gpy, emukit, plotly, matplotlib. If your model uses a package beyond this list, quoFEM analysis will fail.</p>
<p>An option to allow user-defined Python packages on DesignSafe is under implementation. Meanwhile, if you need to request to use additional Python packages, please contact us through <a class="reference external" href="https://github.com/orgs/NHERI-SimCenter/discussions/categories/quofem">github discussion page</a>.</p>
</div>
</div></blockquote>
</li>
<li><p><strong>When your model consists of more than one script</strong></p>
<blockquote>
<div><p>You can import only one main Python file in the FEM tab and put all (and only) the files required to run the analysis in the same folder. quoFEM will automatically copy all the files/subfolders in the same directory of the <strong>main input script</strong> to the working directory.</p>
</div></blockquote>
</li>
<li><p><strong>Debugging</strong></p>
<blockquote>
<div><p>When quoFEM analysis fails and the error message points you to a working directory, often the detailed error messages are written in <code class="docutils literal notranslate"><span class="pre">ops.out</span></code> file in the directory. Other <code class="docutils literal notranslate"><span class="pre">.log</span></code> and <code class="docutils literal notranslate"><span class="pre">.err</span></code> files can have information to help you identify the cause of the failure. Please feel free to ask us through <a class="reference external" href="https://github.com/orgs/NHERI-SimCenter/discussions/categories/quofem">github discussion page</a>.</p>
</div></blockquote>
</li>
<li><p><strong>When “RUN at DesignSafe” fails</strong></p>
<blockquote>
<div><p>When the remote analysis fails while the local analysis is successful, there can be many reasons. Some common cases are Python compatibility issues and missing Python packages, as discussed earlier on this page. Another common cause is related to cross-platform compatibility (Windows/mac versus Linux). This is usually observed in the relative file paths. For example, the below works on Mac and Windows,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">getDisp</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;TestResult\disp.out&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>but will throw an error on Linux. Below will also work on Linux.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">getDisp</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;TestResult&#39;</span><span class="p">,</span> <span class="s2">&quot;disp.out&quot;</span><span class="p">),</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Questions, bug reports, and feature requests</strong></p>
<blockquote>
<div><p>We have an active <a class="reference external" href="https://github.com/orgs/NHERI-SimCenter/discussions/categories/quofem">github discussion page</a>, for any users who have questions or feature requests. The response is mostly within 24 hours and usually much less.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018-2025, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-4', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>